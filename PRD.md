# PRD: NeoReport - 애널리스트 리포트 자동 수집 및 요약 시스템

## PRODUCT TYPE
Web app (Frontend: Next.js / Backend: FastAPI + Docker / DB: Supabase)

## GOAL
네오위즈(NAVER 종목코드 기준)와 관련된 애널리스트 보고서를 자동으로 수집하고, 주요 항목을 추출 및 요약하여 IR 보고서 템플릿을 자동 생성합니다.

---

## 문제 정의

IR팀은 다음과 같은 반복적인 수작업을 수행해 왔습니다:

- 증권사 홈페이지 및 포털(FNGuide, Thinkpool 등)에서 ‘네오위즈’ 관련 애널리스트 리포트를 매일 수작업으로 검색
- 보고서는 대부분 PDF 형태로 발간되며, 이를 열람하여 주요 정보(목표주가, PER, 실적전망 등)를 수기로 요약
- 정형 템플릿에 맞춰 정리 후 저장

⛔️ 이 작업은 시간이 많이 소요되고, 사람이 직접 수집해야 하므로 놓치는 리포트가 발생할 수 있음

---

## 목표

- 네오위즈 관련 리포트가 공개되면 이를 자동으로 크롤링
- PDF 리포트에서 주요 필드 정보 자동 추출
- GPT를 활용하여 주요내용 요약 자동화
- 아래 템플릿 구조에 맞춰 자동 완성
- Supabase에 저장하여 웹 UI에서 관리

---

## 핵심 기능 목록 (기능은 task 단위로 분해되어야 함)

### 1. 애널리스트 리포트 자동 수집 (크롤링)
- 조건: '네오위즈' 키워드가 포함된 최신 증권사 리포트 대상
- 출처 예: FNGuide, Thinkpool, 증권사 사이트
- 대상 리포트는 PDF 형식

### 2. PDF 텍스트 파싱 및 필드 자동 추출
- 항목: 작성일, 작성자/제목, 투자의견, 목표주가, 타깃 P/E, 실적전망 등
- 날짜 기준: 실적전망은 항상 `1Q25 실적전망`, `2026년 실적전망`으로 고정
- 파싱 도구 예시: `PyMuPDF`, `pdfminer.six`

### 3. GPT 기반 주요내용 요약
- 기준 키워드: 신작/출시 일정, 실적 전망, 주가 밸류에이션 등
- 최대 3문장 이내 요약으로 제한

### 4. IR 템플릿 자동 생성
- 다음 JSON 스키마 형태로 출력:

```json
{
  "작성일": "2025-05-23",
  "작성자": "신한금융투자(강석오)",
  "리포트 제목": "2분기 실적 및 주가 저점 확신",
  "투자의견": "Buy (상향, Top Pick 유지)",
  "목표주가": "38,000원 (직전 리포트: 35,000원)",
  "타깃 P/E": "12MF EPS(3,196원) × 12배",
  "1Q25 실적전망": {
    "매출": "727억원",
    "영업익": "92억원",
    "지배순이익": "89억원"
  },
  "2026년 실적전망": {
    "매출": "3,029억원",
    "영업익": "411억원",
    "지배순이익": "473억원"
  },
  "주요내용": [
    "웹보드 규제 완화로 2분기 실적 하향 조정",
    "7/11 신작 ‘그랜드크로스’ 출시 및 웹보드 매출 성장",
    "P의 거짓 출시 성공 및 PER 레벨업 기대"
  ]
}
5. Supabase 저장 및 조회
위 JSON 템플릿을 Supabase 테이블에 저장

UI에서 리스트 및 검색 기능으로 조회 가능

워크플로우 시나리오
시스템이 주기적으로 ‘네오위즈’ 관련 리포트를 수집함

PDF를 열고 주요 필드를 파싱

주요내용은 GPT-4로 요약

템플릿 스키마에 자동 삽입

Supabase에 저장하여 UI에서 확인 및 검색 가능

MVP 범위
리포트 크롤링 → 텍스트 파싱 → 주요 필드 추출 → GPT 요약 → Supabase 저장

프론트 UI는 MVP 이후에 개발 가능

MCP TASKMASTER 실행 조건
본 PRD는 parse-prd 명령으로 분석되어 script/prd.txt를 생성할 수 있습니다.

Task Master가 다음과 같이 기능별로 쪼개서 subtask를 생성할 수 있어야 합니다:
1. '네오위즈' 키워드로 증권사 리포트 자동 수집 기능 구현 (FastAPI + 크롤러)
2. PDF 파일에서 텍스트 및 주요 필드 추출 기능 구현
3. GPT API 연동 후 주요내용 요약 기능 개발
4. 템플릿 스키마로 정리하여 구조화된 결과 생성
5. Supabase에 결과 저장 및 테이블 설계
6. FastAPI ↔ Supabase 연동 테스트
7. Next.js 기반 조회용 리스트 페이지 구성
8. 전체 기능 Docker로 패키징 및 배포
